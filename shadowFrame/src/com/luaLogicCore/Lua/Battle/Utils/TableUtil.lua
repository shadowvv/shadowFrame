---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/11/12 15:06
--- Describe:
---

---@class TableUtil : table
TableUtil = class(nil, "TableUtil") 
function TableUtil:ctor() end

---@public
function TableUtil:Init()
	---@private
	self.__deadList = {}
	---@private
	self.__initNum = 100
	---@private
	self.__stepNum = 10
end

---@private
function TableUtil:__Expand(_num)
	local _deadList = self.__deadList
	for _ = 1, _num do
		table.insert(_deadList, {})
	end
end

---@public
---@return table
function TableUtil:Pop()
	local _max = #self.__deadList
	if 0 == _max then
		self:__Expand(self.__stepNum)
		_max = #self.__deadList
	end

	return table.remove(self.__deadList, _max)
end

---@public
---@param _table table
function TableUtil:Push(_table)
	TableUtil.ClearTable(_table)
	table.insert(self.__deadList, _table)
end

---@public
---@param _table table
function TableUtil.ClearTable(_table)
	for _key, _ in pairs(_table) do
		_table[_key] = nil
	end
end

---@public
function TableUtil.Copy(_src, _des)
	for _key, _value in pairs(_src) do
		_des[_key] = _value
	end
end

---获取表长度
---@public
function TableUtil.Count(_table)
	if not _table then return 0 end
	if type(_table) ~= "table" then
        return 0
    end
    local _count = 0
    for _,_v in pairs(_table) do
		if _v then
			_count = _count + 1
		end
    end
    return _count
end

---@public
function TableUtil:Clear()
	self.__deadList = nil
	self.__initNum = nil
	self.__stepNum = nil
end
return TableUtil