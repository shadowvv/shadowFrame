---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2023/07/28 16:50
--- Describe:
---

---@class RogueUnitTarget_Rand : RogueUnitSkillTargetSelectorBase
RogueUnitTarget_Rand = class(RogueUnitSkillTargetSelectorBase, "RogueUnitTarget_Rand")

---@public
function RogueUnitTarget_Rand:SelectTarget()
	local _unitList = self:__SelectCampType()
	local _objList = self:__SelectOnTeamState(_unitList)
	if not self.__numLimit then
		return _objList
	end
	local _leftObjNum = #_objList
	local _needNum = self.__maxNum
	if _leftObjNum <= _needNum then
		return _objList
	end
	
	local _ret = self.__retList
	TableUtil.ClearTable(_ret)
	local _randUtil = self:GetBattleRoom().randomUtil
	local _curNum = 0
	local _select
	while _curNum < _needNum and _leftObjNum > 0 do
		--LogTools.LogByLevel(LogLevel.logErr, "肉鸽主公技", "RogueUnitTarget_Rand:SelectTarget", "_randUtil", _randUtil, "_leftObjNum", _leftObjNum)
		_select = _randUtil:RandomInt(1, _leftObjNum)
		table.insert(_ret, table.remove(_objList, _select))
		_leftObjNum = _leftObjNum - 1
		_curNum = _curNum + 1
	end
	
	return _ret
end

return RogueUnitTarget_Rand