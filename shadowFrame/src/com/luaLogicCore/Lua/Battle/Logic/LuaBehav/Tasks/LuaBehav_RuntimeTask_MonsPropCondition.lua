---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/01/20 16:28
--- Describe: 怪物检查属性条件节点
---

---@class LuaBehav_RuntimeTask_MonsPropCondition : table
LuaBehav_RuntimeTask_MonsPropCondition = class(LuaBehav_RuntimeTask_Condition, "LuaBehav_RuntimeTask_MonsPropCondition")

function LuaBehav_RuntimeTask_MonsPropCondition:IsConditionalTask()
	return true
end

function LuaBehav_RuntimeTask_MonsPropCondition:OnStart()
	self:__OnStart()
	
	self.__callRet = LuaBehav_Interfaces.GetMonsProp(self.netId, self.configTask.propKey, self.configTask.valueDescType)
end

function LuaBehav_RuntimeTask_MonsPropCondition:OnUpdate()
	local _retState = LuaBehav_Define_TaskState.Failure
	
	local _compareType = self.configTask.compareType
	if _compareType == LuaBehav_Define_CompareType.Equal then
		if self.__callRet == self.configTask.compareValue then
			_retState = LuaBehav_Define_TaskState.Success
		end
	elseif _compareType == LuaBehav_Define_CompareType.UnEqual then
		if self.__callRet ~= self.configTask.compareValue then
			_retState = LuaBehav_Define_TaskState.Success
		end
	elseif _compareType == LuaBehav_Define_CompareType.Larger then
		if self.__callRet > self.configTask.compareValue then
			_retState = LuaBehav_Define_TaskState.Success
		end
	elseif _compareType == LuaBehav_Define_CompareType.Smaller then
		if self.__callRet < self.configTask.compareValue then
			_retState = LuaBehav_Define_TaskState.Success
		end
	elseif _compareType == LuaBehav_Define_CompareType.True then
		if true == self.__callRet then
			_retState = LuaBehav_Define_TaskState.Success
		end
	elseif _compareType == LuaBehav_Define_CompareType.False then
		if false == self.__callRet then
			_retState = LuaBehav_Define_TaskState.Success
		end
	end
	
	self:__SetTaskState(_retState)
	return _retState
end


return LuaBehav_RuntimeTask_MonsPropCondition