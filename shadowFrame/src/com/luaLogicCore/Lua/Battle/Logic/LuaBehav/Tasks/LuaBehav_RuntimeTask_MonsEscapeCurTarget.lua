---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/01/15 15:04
--- Describe: 怪物远离当前目标
---

---@class LuaBehav_RuntimeTask_MonsEscapeCurTarget : LuaBehav_RuntimeTask
LuaBehav_RuntimeTask_MonsEscapeCurTarget = class(LuaBehav_RuntimeTask, "LuaBehav_RuntimeTask_MonsEscapeCurTarget")

function LuaBehav_RuntimeTask_MonsEscapeCurTarget:OnStart()
	self:__OnStart()
	self.__callRet = BEHAVIOR_ACTION.MonsEscapeCurTarget(self.battleId, self.netId)
end

function LuaBehav_RuntimeTask_MonsEscapeCurTarget:OnUpdate(_deltaTime)
	if not self.__callRet then
	self:__SetTaskState(LuaBehav_Define_TaskState.Failure)
	return LuaBehav_Define_TaskState.Failure
	end

	--local _timeAcc = self.__timeAcc + _deltaTime
	--if _timeAcc > 5 then
	--self:__SetTaskState(LuaBehav_Define_TaskState.Success)
	--return LuaBehav_Define_TaskState.Success
	--end
	--
	--self.__timeAcc = _timeAcc
	self:__SetTaskState(LuaBehav_Define_TaskState.Running)
	return LuaBehav_Define_TaskState.Running
end

-- 节点被打断时调用
function LuaBehav_RuntimeTask_MonsEscapeCurTarget:OnAbort()
	self:__OnAbort()
	BEHAVIOR_ACTION.MonsStopEscapeCurTarget(self.battleId, self.netId)
end

-- 退出节点时调用
--function LuaBehav_RuntimeTask_MonsEscapeCurTarget:OnExit()
--	self:__OnExit()
--	BEHAVIOR_ACTION.MonsStopEscapeCurTarget(self.netId)
--end

return LuaBehav_RuntimeTask_MonsEscapeCurTarget