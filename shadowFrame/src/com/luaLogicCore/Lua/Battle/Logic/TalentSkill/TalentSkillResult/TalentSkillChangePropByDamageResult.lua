---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by zhaopuyang.
--- DateTime: 2022/5/10 16:29

require "Lib/class"
require "Battle/Logic/TalentSkill/TalentSkillResult/TalentSkillResultBase"

---@class TalentSkillChangePropByDamageResult : TalentSkillResultBase
TalentSkillChangePropByDamageResult = class(TalentSkillResultBase, 'TalentSkillChangePropByDamageResult');

function TalentSkillChangePropByDamageResult:ctor(_battleId)
    self.battleId = _battleId
    self.battleRoom = GetBattleRoom(self.battleId)
end

---触发被动技能
---@public
---@param _battleObjectBase BattleObjectBase
---@param _count number
---@param _talentSkillConfig TalentSkill
---@param _skillResult SkillResult
---@param _talentSkill BattlePlayerTalentSkill 被动技能
---@param _isReTrigger boolean 重新触发
function TalentSkillChangePropByDamageResult:Trigger(_battleObjectBase,_count,_talentSkillConfig,_skillResult,_talentSkill,_isReTrigger)

    ---@type BattleObjCom_Property
    local propComp = _battleObjectBase:GetComponent(BattleObjectComponentType.Property);
    if propComp then
        propComp:ChangeConsumeProp(_skillResult.parm1,_skillResult.parm2*_talentSkill.param[TalentSkillDamageTrigger:GetType()]*_count);
        _talentSkill:AddTriggeredObject(_battleObjectBase:GetObjectId(),_count);
    end

end

---释放被动技能
---@public
---@param _skillResult SkillResult
---@param _targetObjectId number 伤害目标objectId
---@param _count number 触发次数
---@param _talentSkill BattlePlayerTalentSkill
function TalentSkillChangePropByDamageResult:Release(_skillResult, _targetObjectId,_count,_talentSkill)

end


---被动技能触发类型
---@return number 被动技能触发类型
function TalentSkillChangePropByDamageResult:GetType()
    return 15;
end

return TalentSkillChangePropByDamageResult;