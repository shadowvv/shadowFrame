---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hejincheng.
--- DateTime: 2022/3/2 19:06

require "Battle/Logic/Room/BattleObject/BattleElement/BattleElementType"

-- 枚举 和ElementalInfo表对应
---@type BattleElementType[] 枚举映射
BattleElementTypeEnum = {
    ---@type BattleElementType 无
    NONE = BattleElementType.New(0);
    ---@type BattleElementType 物理
    PHYSIC = BattleElementType.New(1);
    ---@type BattleElementType 火
    FIRE = BattleElementType.New(2,
            function(_elementCorrect)
                return _elementCorrect.role2
            end,
            function(_elementCorrect)
                return _elementCorrect.fallObjectRole2
            end,
            BattlePropertyEnum.HurtAdd_Element_Fire,
            BattlePropertyEnum.AntiHurtAdd_Element_Fire,
            BattlePropertyEnum.HurtReduce_Element_File,
            BattlePropertyEnum.AntiHurtReduce_Element_Fire,
            BattlePropertyEnum.AntiElementAccAdd_Fire,
            BattlePropertyEnum.ElementAccAdd_Fire,
            BattlePropertyEnum.HurtAdd_EleBreak_Fire,
			BattlePropertyEnum.HurtAdd_EleWeak_Fire
    );
    ---@type BattleElementType 雷
    THUNDER = BattleElementType.New(3,
            function(_elementCorrect)
                return _elementCorrect.role3
            end,
            function(_elementCorrect)
                return _elementCorrect.fallObjectRole3
            end,
            BattlePropertyEnum.HurtAdd_Element_Thunder,
            BattlePropertyEnum.AntiHurtAdd_Element_Thunder,
            BattlePropertyEnum.HurtReduce_Element_Thunder,
            BattlePropertyEnum.AntiHurtReduce_Element_Thunder,
            BattlePropertyEnum.AntiElementAccAdd_Thunder,
            BattlePropertyEnum.ElementAccAdd_Thunder,
            BattlePropertyEnum.HurtAdd_EleBreak_Thunder,
			BattlePropertyEnum.HurtAdd_EleWeak_Thunder
    );
    ---@type BattleElementType 冰
    ICE = BattleElementType.New(4,
            function(_elementCorrect)
                return _elementCorrect.role4
            end,
            function(_elementCorrect)
                return _elementCorrect.fallObjectRole4
            end,
            BattlePropertyEnum.HurtAdd_Element_Ice,
            BattlePropertyEnum.AntiHurtAdd_Element_Ice,
            BattlePropertyEnum.HurtReduce_Element_Ice,
            BattlePropertyEnum.AntiHurtReduce_Element_Ice,
            BattlePropertyEnum.AntiElementAccAdd_Ice,
            BattlePropertyEnum.ElementAccAdd_Ice,
            BattlePropertyEnum.HurtAdd_EleBreak_Ice,
			BattlePropertyEnum.HurtAdd_EleWeak_Ice
    );
    ---@type BattleElementType 风
    STORM = BattleElementType.New(5,
            function(_elementCorrect)
                return _elementCorrect.role5
            end,
            function(_elementCorrect)
                return _elementCorrect.fallObjectRole5
            end,
            BattlePropertyEnum.HurtAdd_Element_Wind,
            BattlePropertyEnum.AntiHurtAdd_Element_Wind,
            BattlePropertyEnum.HurtReduce_Element_Wind,
            BattlePropertyEnum.AntiHurtReduce_Element_Wind,
            BattlePropertyEnum.AntiElementAccAdd_Wind,
            BattlePropertyEnum.ElementAccAdd_Wind,
            BattlePropertyEnum.HurtAdd_EleBreak_Wind,
			BattlePropertyEnum.HurtAdd_EleWeak_Wind
    );
    ---@deprecated BattleElementType 能源(废弃)
    --POWER = BattleElementType.New(6,
    --        function(_elementCorrect)
    --            return _elementCorrect.role6
    --        end,
    --        function(_elementCorrect)
    --            return _elementCorrect.fallObjectRole6
    --        end,
    --        BattlePropertyEnum.HurtAdd_Element_Power,
    --        BattlePropertyEnum.AntiHurtAdd_Element_Power,
    --        BattlePropertyEnum.HurtReduce_Element_Power,
    --        BattlePropertyEnum.AntiHurtReduce_Element_Power,
    --        BattlePropertyEnum.MaxValueReduce_Power);
    -----@deprecated BattleElementType 重力(废弃)
    --GRAVITY = BattleElementType.New(7,
    --        function(_elementCorrect)
    --            return _elementCorrect.role7
    --        end,
    --        function(_elementCorrect)
    --            return _elementCorrect.fallObjectRole7
    --        end,
    --        BattlePropertyEnum.HurtAdd_Element_Gravity,
    --        BattlePropertyEnum.AntiHurtAdd_Element_Gravity,
    --        BattlePropertyEnum.HurtReduce_Element_Gravity,
    --        BattlePropertyEnum.AntiHurtReduce_Element_Gravity,
    --        BattlePropertyEnum.MaxValueReduce_Gravity);
}

-- 枚举映射
---@type BattleElementType[] 枚举映射
local battleElementTypeIdMap = {};

-- 初始化BattleElementType映射
for _, value in pairs(BattleElementTypeEnum) do
    battleElementTypeIdMap[tostring(value:GetId())] = value;
end

-- 根据id获取枚举
---@type function
---@param _id number
---@return BattleElementType
function GetBattleElementTypeById(_id)
    local _elementType = battleElementTypeIdMap[tostring(_id)]
    if not _elementType then
        return BattleElementTypeEnum.NONE
    end
    return _elementType
end

-- 获取元素枚举map
---@type function
---@return BattleElementType[]
function GetBattleElementTypes()
    return battleElementTypeIdMap
end

---获取元素类型的描述名
---@public
function GetBattleElementNameById(_id)
    if 2 == _id then
        return "火";
    elseif 3 == _id then
        return "雷";
    elseif 4 == _id then
        return "冰";
    elseif 5 == _id then
        return "风";
    elseif 6 == _id then
        return "能源";
    elseif 7 == _id then
        return "重力";
    else
        return "无"
    end
end
