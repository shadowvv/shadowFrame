---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/04/09 17:48
--- Describe: 创建后等待X秒
---

---@class AreaTriggerLifeCondition_WaitSecAfterCreated : AreaTriggerLifeConditionBase
AreaTriggerLifeCondition_WaitSecAfterCreated = class(AreaTriggerLifeConditionBase, "AreaTriggerLifeCondition_WaitSecAfterCreated")

---@public
---@param _lifeConditionCtrl BoundaryTriggerLifeConditionCtrlBase
function AreaTriggerLifeCondition_WaitSecAfterCreated:Init(_lifeConditionCtrl, _floatParam, _strParam)
	self:__Init(_lifeConditionCtrl, _floatParam, _strParam)
	self.__startTime = _lifeConditionCtrl:GetTimeStamp()
	self.__battleId = _lifeConditionCtrl:GetBattleRoom().battleId
	self.__timeTotal = self.__floatParam * 1000
end

function AreaTriggerLifeCondition_WaitSecAfterCreated:OnUpdate(_deltaTime)
	if not self.__lifeConditionCtrl:CheckState(BoundaryTriggerLifeState.Created) then return false end
	if TimeUtils.battleNow(self.__battleId) - self.__startTime < self.__timeTotal then return false end
	return true
end

function AreaTriggerLifeCondition_WaitSecAfterCreated:ChangeTimeTotal(_changeValue)
	self.__timeTotal = self.__timeTotal + _changeValue * 1000
	if self.__timeTotal < 0 then self.__timeTotal = 0 end
end

function AreaTriggerLifeCondition_WaitSecAfterCreated:ChangeTimeAcc(_changeValue)
	self.__startTime = self.__startTime + _changeValue * 1000
end

function AreaTriggerLifeCondition_WaitSecAfterCreated:Clear()
	self.__startTime = nil
	self.__battleId = nil
	self.__timeTotal = nil
	self:__Clear()
end
return AreaTriggerLifeCondition_WaitSecAfterCreated