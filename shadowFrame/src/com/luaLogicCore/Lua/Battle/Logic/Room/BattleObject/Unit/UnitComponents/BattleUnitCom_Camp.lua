---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/02/19 11:32
--- Describe: 阵营组件
---

---@class BattleUnitCom_Camp : BattleUnitComponentBase
BattleUnitCom_Camp = class(BattleUnitComponentBase, "BattleUnitCom_Camp")
function BattleUnitCom_Camp:OnUpdate(_deltaTime) end

function BattleUnitCom_Camp:ctor()
	self:__ctor(BattleUnitComponentType.Camp)
end

---@public
---@param _battleUnit BattleUnitBase
function BattleUnitCom_Camp:Init(_battleUnit, _firstCamp, _secCamp)
	self:__Init(_battleUnit)

	self.__firstCamp = _firstCamp
	self.__secCamp = _secCamp
end

---获取第一阵营
---@public
function BattleUnitCom_Camp:GetFirstCamp()
	return self.__firstCamp
end

---获取第二阵营
---@public
function BattleUnitCom_Camp:GetSecCamp()
	return self.__secCamp
end

---比较第一阵营
---@public
function BattleUnitCom_Camp:CheckFirstCamp(_firstCamp)
	return self.__firstCamp == _firstCamp
end

---比较第二阵营
---@public
function BattleUnitCom_Camp:CheckSecCamp(_secCamp)
	return self.__secCamp == _secCamp
end

---检查阵营列表
---满足列表中任一阵营
function BattleUnitCom_Camp:CheckAnyOfFirstCamp(_firstCampList)
	--LogTools.LogByLevel(LogLevel.log, "CheckArea", "BattleUnitCom_Camp CheckAnyOfFirstCamp start", "_firstCampList", dumpTableEx(_firstCampList), "self.__firstCamp", self.__firstCamp)
	for _, _camp in pairs(_firstCampList) do
		if self.__firstCamp == _camp then
			return true
		end
	end
	return false
end

------------------------------------------------------------------------------------------------------------------------
---检查阵营是否可以造成伤害
---@public
---@param _atkFirstCamp number 攻击方第一阵营
---@param _defFirstCamp number 受击方第一阵营
function BattleUnitCom_Camp.CheckCampHurtable(_atkFirstCamp, _defFirstCamp)
	if _defFirstCamp == BattleUnitCampType.None then return false end
	
	if _atkFirstCamp == BattleUnitCampType.Player then
		return _defFirstCamp == BattleUnitCampType.Monster
	elseif _atkFirstCamp == BattleUnitCampType.Monster then
		return _defFirstCamp ~= _atkFirstCamp
	end
	return _defFirstCamp ~= _atkFirstCamp
end

---检查阵营是否可以进行治疗
---@public
---@param _atkFirstCamp number 攻击方第一阵营
---@param _defFirstCamp number 受击方第一阵营
function BattleUnitCom_Camp.CheckCampCurable(_atkFirstCamp, _defFirstCamp)
	if _defFirstCamp == BattleUnitCampType.None then return false end
	return true
end

---检查阵营是否可以产生仇恨
---玩家阵营也会对其他unit产生仇恨值，比如玩家的召唤物之类
---所有阵营对独立阵营没有仇恨
---@public
---@param _atkFirstCamp number 攻击方第一阵营
---@param _defFirstCamp number 受击方第一阵营
function BattleUnitCom_Camp.CheckCampHatrable(_atkFirstCamp, _defFirstCamp)
	if _atkFirstCamp == BattleUnitCampType.None then return false end
	if _atkFirstCamp == BattleUnitCampType.Independent then return false end
	return true
end

return BattleUnitCom_Camp