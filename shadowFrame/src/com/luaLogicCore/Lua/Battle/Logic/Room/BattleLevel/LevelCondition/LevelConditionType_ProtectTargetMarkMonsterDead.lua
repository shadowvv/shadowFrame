---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hejincheng.
--- DateTime: 2022/2/11 18:35

require "Lib/class"

---@class LevelConditionType_ProtectTargetMarkMonsterDead : LevelConditionType
---@field id number
---@field event number
---@field initState number 初始状态
---@field eventChangeState number 事件改变状态
---@field eventParamFunc function 获取检测参数方法
---@field eventCheckFunc function 事件检测方法
---@field killMonster boolean 是否是击杀怪物条件
LevelConditionType_ProtectTargetMarkMonsterDead = class(LevelConditionType, 'LevelConditionType_ProtectTargetMarkMonsterDead');

---获取监听的最后死亡怪物id
---@public
---@param _checkLastMonsterLevelUnitIds number[]
---@param _levelCondition LevelCondition
---@param  _battleId number
function LevelConditionType_ProtectTargetMarkMonsterDead:GetCheckLastMonsterLevelUnitIds(_checkLastMonsterLevelUnitIds, _levelCondition, _battleId)
    -- 全部守护怪物
    local _battleRoom = GetBattleRoom(_battleId)
    local _keyUnits = _battleRoom.battleLevelManager.levelUnitManager:GetProtectTargetLevelUnit()
    if not _keyUnits then
        return
    end
    for _, _levelUnit in pairs(_keyUnits) do
        table.insert(_checkLastMonsterLevelUnitIds, _levelUnit.id)
    end
end

return LevelConditionType_ProtectTargetMarkMonsterDead;
