---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hejincheng
--- DateTime: 2023/05/26 11:05
--- Describe:
---

---@class ElementStage_Define : table
ElementStage_Define = {}

ElementStage_Define_StageEnum = {
    AccumulationStage1 = 1, --积累阶段1：正常阶段
    AccumulationStage2 = 2, --积累阶段2：匀速衰减
    AccumulationStage3 = 3, --积累阶段3：加速衰减
    MaxReduceStage1 = 4, --创伤阶段1：匀速衰减
    --MaxReduceStage2 = 5, --创伤阶段2：创伤加速衰减
}
--
local elementStageCanEnterDefine = {
    [ElementStage_Define_StageEnum.AccumulationStage1] = {
        ElementStage_Define_StageEnum.AccumulationStage2,
        ElementStage_Define_StageEnum.AccumulationStage3,
    },
    [ElementStage_Define_StageEnum.AccumulationStage2] = {
        ElementStage_Define_StageEnum.AccumulationStage1
    },
    [ElementStage_Define_StageEnum.AccumulationStage3] = {
        ElementStage_Define_StageEnum.AccumulationStage2
    },
    [ElementStage_Define_StageEnum.MaxReduceStage1] = {
        ElementStage_Define_StageEnum.AccumulationStage1,
    },
    --[ElementStage_Define_StageEnum.MaxReduceStage2] = {
    --    ElementStage_Define_StageEnum.MaxReduceStage1
    --},
}
local elementNextStage = {
    [ElementStage_Define_StageEnum.AccumulationStage1] = ElementStage_Define_StageEnum.AccumulationStage2,
    [ElementStage_Define_StageEnum.AccumulationStage2] = ElementStage_Define_StageEnum.AccumulationStage3,
    --[ElementStage_Define_StageEnum.MaxReduceStage1] = ElementStage_Define_StageEnum.MaxReduceStage2,
}

-- 获取下一个阶段
---@param _stage number
---@return number
function ElementStage_Define_StageEnum.GetNextStage(_stage)
    return elementNextStage[_stage]
end

function ElementStage_Define_StageEnum.CanEnter(_fromStage, _toStage)
    local _canEnterToStageArr = elementStageCanEnterDefine[_toStage]
    if not _canEnterToStageArr then
        -- 没有定义可进入状态，就认为能进
        return true
    end
    return table.arrayContains(_canEnterToStageArr, _fromStage)
end

function ElementStage_Define_StageEnum.GetElementStageNameById(_stageIndex)
    if 1 == _stageIndex then
        return "积累阶段";
    elseif 2 == _stageIndex then
        return "匀速衰减阶段";
    elseif 3 == _stageIndex then
        return "加速衰减阶段";
    elseif 4 == _stageIndex then
        return "创伤匀速衰减阶段";
    elseif 5 == _stageIndex then
        return "创伤加速衰减阶段";
    else
        return "无"
    end
end