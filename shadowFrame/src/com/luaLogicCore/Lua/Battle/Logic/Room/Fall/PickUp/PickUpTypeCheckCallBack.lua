---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hejincheng.
--- DateTime: 2023/3/31 13:48
---

---@public
---@param _fallObjectUnit FallObjectUnit 掉落物id
---@param _fallObject FallObject 掉落物
---@param _unit BattleUnitBase 拾取单位
---@return boolean
function PickUpCheckCallBack_SingleUnit(_fallObjectUnit, _fallObject, _unit)
    if not _fallObjectUnit.attackerNetId or _fallObjectUnit.attackerNetId == 0 then
        -- 没有指定netId
        return true
    end
    if _fallObjectUnit.attackerNetId ~= _unit:GetNetId() then
        -- 不是这个人打的，这个人不能捡
        if CheckLogLevel(LogLevel.logErr) then
            LogTools.LogByLevel(LogLevel.logErr, "FallObjectManager", "CheckPickUpFallObject", "netId", _unit:GetNetId(), "fallObject", "fallObjUnitId", _fallObjectUnit.fallUnitId, "fallObjectId", _fallObjectUnit.fallObjectId, "is Not Unit", _fallObjectUnit.attackerNetId)
        end
        return false
    end
    return true
end

---@public
---@param _fallObjectUnit FallObjectUnit 掉落物id
---@param _fallObject FallObject 掉落物
---@param _unit BattleUnitBase 拾取单位
---@return boolean
function PickUpCheckCallBack_CampUnits(_fallObjectUnit, _fallObject, _unit)
    for _, _pickupCamp in pairs(_fallObject.pickupCamp) do
        ---@type BattleUnitCom_Camp
        local _campCom = _unit:GetComponent(BattleUnitComponentType.Camp)
        if _campCom:CheckFirstCamp(_pickupCamp) then
            return true
        end
    end
    -- 不是这个人打的，这个人不能捡
    if CheckLogLevel(LogLevel.logErr) then
        LogTools.LogByLevel(LogLevel.logErr, "FallObjectManager", "CheckPickUpFallObject", "netId", _unit:GetNetId(), "fallObject", "fallObjUnitId", _fallObjectUnit.fallUnitId, "fallObjectId", _fallObjectUnit.fallObjectId, "is Not Camp", _fallObject.pickupCamp)
    end
    return false
end