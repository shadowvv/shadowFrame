---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/07/30 18:04
--- Describe: 目标点object
---

---@class BattleObject_TargetPoint : BattleObjectBase
BattleObject_TargetPoint = class(BattleObjectBase, "BattleObject_TargetPoint")

---@public
---@param _parentUnit BattleUnitBase
---@param _createBattleUnitParam BattleCreateUnitParam
function BattleObject_TargetPoint:Init(_battleId, _objectId, _parentUnit, _createBattleUnitParam)
	--LogTools.LogByLevel(LogLevel.log, "BattleObject_TargetPoint", "Init", "_objectId", _objectId, "_dicId", _dicId)
	self:__Init(_battleId, _parentUnit, _objectId, _createBattleUnitParam.dicId)
	self:__InitComponents(_createBattleUnitParam)
end

---@protected
---@param _createBattleUnitParam BattleCreateUnitParam
function BattleObject_TargetPoint:__InitComponents(_createBattleUnitParam)
	---@type BattleObjectComponentCreator
	local componentCreator = self:GetBattleRoom().battleObjectManager:GetObjectComponentCreator()
	
	---@type BattleObjCom_Config
	local _cfgCom = componentCreator:__CreateComponent(BattleObjectComponentType.Config)
	_cfgCom:Init(self)
	self:AddComponent(_cfgCom)

	-----@type BattleObjCom_Property
	--local _propCom = componentCreator:__CreateComponent(BattleObjectComponentType.Property)
	--_propCom:Init(self, _cfgCom:GetDataInstanceXls())
	--self:AddComponent(_propCom)
	
	---@type BattleObjCom_LifeCtrl
	local _lifeCom = componentCreator:__CreateComponent(BattleObjectComponentType.LifeCtrl)
	_lifeCom:Init(self, _createBattleUnitParam)
	self:AddComponent(_lifeCom)
	
	-----@type BattleObjCom_Element_V2
	--local _elementCom = componentCreator:__CreateComponent(BattleObjectComponentType.Element)
	--_elementCom:Init(self)
	--self:AddComponent(_elementCom)

	-----@type BattleObjCom_Skill
	--local _skillCom = componentCreator:__CreateComponent(BattleObjectComponentType.Skill)
	--_skillCom:Init(self)
	--self:AddComponent(_skillCom)

	-----@type BattleObjCom_Buff
	--local _buffCom = componentCreator:__CreateComponent(BattleObjectComponentType.Buff)
	--_buffCom:Init(self)
	--self:AddComponent(_buffCom)
	
	-----@type BattleObjCom_HitValue
	--local _hitValueCom = componentCreator:__CreateComponent(BattleObjectComponentType.HitValue)
	--_hitValueCom:Init(self)
	--self:AddComponent(_hitValueCom)
	--
	-----@type BattleObjCom_Drop
	--local _dropCom = componentCreator:__CreateComponent(BattleObjectComponentType.Drop)
	-----@type number
	--local monsterFallId = _cfgCom:GetDataInstanceXls().monstertypeFallID
	--local fallDictDataArr = self.battleRoom.inputDataSource:getMonsterFallDataList(monsterFallId)
	--_dropCom:Init(self, fallDictDataArr)
	--self:AddComponent(_dropCom)
end

------------------------------------------------------------------------------------------------------------------------
function BattleObject_TargetPoint:GetL2SMessageData()
	local _TargetPointObjectInfo_L2V = {}
    _TargetPointObjectInfo_L2V.objectId = self:GetObjectId()
	_TargetPointObjectInfo_L2V.alive = not self.__isDead
	---@type BattleObjCom_LifeCtrl
	local _lifeCom = self:GetComponent(BattleObjectComponentType.LifeCtrl)
	_TargetPointObjectInfo_L2V.createTime = _lifeCom:GetCreateTime()
	_TargetPointObjectInfo_L2V.dicId = self:GetDicId()
	_TargetPointObjectInfo_L2V.blockInfoList = self:__CollectBlockDataList()
	return _TargetPointObjectInfo_L2V
end

return BattleObject_TargetPoint