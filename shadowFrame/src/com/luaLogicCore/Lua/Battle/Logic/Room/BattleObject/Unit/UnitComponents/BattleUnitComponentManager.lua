---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/02/19 10:40
--- Describe: unit层的组件管理
---

require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitComponentBase"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Hatred"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Camp"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_PathFind"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Behav"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Rotate"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_PositionSet"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_TagSelector"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Subordination"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_UnitProp"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Buff"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_Collector"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_RogueUnitSkill"
require "Battle/Logic/Room/BattleObject/Unit/UnitComponents/BattleUnitCom_CoverShield"

---@class BattleUnitComponentType : table
BattleUnitComponentType = {
	Hatred = 1,
	Camp = 2,
	PathFind = 3,
	Behav = 4,
	Rotate = 5,
	PosSet = 6,
	TagSelector = 7,
	Subordination = 8,
	UnitProp = 9,
	Buff = 10,
	Collector = 11,
	RogueUnitSkill = 12,   --肉鸽主公技
	CoverShield = 13,      --覆盖护罩
}

---@class BattleUnitComponentManager : table
BattleUnitComponentManager = class(nil, "BattleUnitComponentManager")
function BattleUnitComponentManager:ctor(_data) end
function BattleUnitComponentManager:Init(_data) end
function BattleUnitComponentManager:OnUpdate(_deltaTime) end

---@public
---@param _battleUnit BattleUnitBase
---@param _battleUnitComType BattleUnitComponentType
function BattleUnitComponentManager:AddComponent(_battleUnit, _battleUnitComType)
	local _component = self:__CreateComponent(_battleUnitComType)
	_battleUnit:AddComponent(_component)
	return _component
end

---创建一个unit组件
---现在只是单纯创建，将来可以改成从对象池中取
---@protected
---@param _battleUnitComType BattleUnitComponentType
---@return BattleUnitComponentBase
function BattleUnitComponentManager:__CreateComponent(_battleUnitComType)
	if _battleUnitComType == BattleUnitComponentType.Hatred then
		return BattleUnitCom_Hatred.New()
	elseif _battleUnitComType == BattleUnitComponentType.Camp then
		return BattleUnitCom_Camp.New()
	elseif _battleUnitComType == BattleUnitComponentType.PathFind then
		return BattleUnitCom_PathFind.New()
	elseif _battleUnitComType == BattleUnitComponentType.Behav then
		return BattleUnitCom_Behav.New()
	elseif _battleUnitComType == BattleUnitComponentType.Rotate then
		return BattleUnitCom_Rotate.New()
	elseif _battleUnitComType == BattleUnitComponentType.PosSet then
		return BattleUnitCom_PositionSet.New()
	elseif _battleUnitComType == BattleUnitComponentType.TagSelector then
		return BattleUnitCom_TagSelector.New()
	elseif _battleUnitComType == BattleUnitComponentType.Subordination then
		return BattleUnitCom_Subordination.New()
	elseif _battleUnitComType == BattleUnitComponentType.UnitProp then
		return BattleUnitCom_UnitProp.New()
	elseif _battleUnitComType == BattleUnitComponentType.Buff then
		return BattleUnitCom_Buff.New()
	elseif _battleUnitComType == BattleUnitComponentType.Collector then
		return BattleUnitCom_Collector.New()
	elseif _battleUnitComType == BattleUnitComponentType.RogueUnitSkill then
		return BattleUnitCom_RogueUnitSkill.New()
	elseif _battleUnitComType == BattleUnitComponentType.CoverShield then
		return BattleUnitCom_CoverShield.New()
	end
end

---@public
function BattleUnitComponentManager:Clear()
	
end

return BattleUnitComponentManager