---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/01/17 15:53
--- Describe:
---

require "Battle/Logic/Room/BattleObject/Monster/BattleMonsterUnit"

---@class BattleMonsterCreator : table
BattleMonsterCreator = class(nil, "BattleMonsterCreator")
function BattleMonsterCreator:ctor(_data) end

--这里netId不从服务器传么？
---@return BattleMonsterUnit
function BattleMonsterCreator:CreateMonster(_monsterBattleInfo)
	local _netId = NET_ID_CREATOR:GetAndIncrease()
	
	---@type BattleMonsterUnit
	local _monsterUnit = BattleMonsterUnit.New()
	_monsterUnit:Init(_netId, _monsterBattleInfo.instanceId)
	
	local _prop = BattleObjectProp.New()
	if _monsterBattleInfo.calcPropModelInfo.attributeMap ~= nil then
        for index, value in ipairs(_monsterBattleInfo.calcPropModelInfo.attributeMap) do
            _prop:AddNormalProp(value.key,value.value);
        end
    end
    if _monsterBattleInfo.calcPropModelInfo.growMap ~= nil then
        for index, value in ipairs(_monsterBattleInfo.calcPropModelInfo.growMap) do
            _prop:AddGrowProp(value.key,value.value);
        end
    end
    _prop:SetCapability(_monsterBattleInfo.calcPropModelInfo.capability);
	
	_monsterUnit:SetProp(_prop)
	
	
	
	_monsterUnit:EnterAction(IDLE_ACTION_STATE)
	return _monsterUnit
end




return BattleMonsterCreator