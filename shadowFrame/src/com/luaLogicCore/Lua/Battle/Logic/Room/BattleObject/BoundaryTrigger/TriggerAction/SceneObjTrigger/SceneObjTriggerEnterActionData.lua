---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiangxuechen
--- DateTime: 2022/11/01 18:17
--- Describe:
---

---@class SceneObjTriggerEnterActionData : table
SceneObjTriggerEnterActionData = class(nil, "SceneObjTriggerEnterActionData")
function SceneObjTriggerEnterActionData:ctor(_data) end

---@public
---@param _actrionCtrl BoundaryTriggerActionCtrlBase
function SceneObjTriggerEnterActionData:Init(_actrionCtrl)
	self.__ctrl = _actrionCtrl
end

---进范围就发送给目标，是否真的新增，在目标的Collector组件中自己判断
---@public
function SceneObjTriggerEnterActionData:Trig(_netIdList, _deltaTime)
	if LogTools.AreaLog and CheckLogLevel(LogLevel.log) then
		LogTools.LogByLevel(LogLevel.log, "CheckSceneObj", "SceneObjTriggerEnterActionData Trig start", "_netIdList", dumpTableEx(_netIdList))
	end
	
	local _unitManager = self.__ctrl:GetBattleRoom().battleUnitManager
	---@type BattleUnitBase
	local _unit
	---@type BattleUnitCom_Collector
	local _collector
	for _, _netId in pairs(_netIdList) do
		_unit = _unitManager:GetUnit(_netId)
		if _unit then
			_collector = _unit:GetComponent(BattleUnitComponentType.Collector)
			if _collector then
				_collector:Add(self.__ctrl:GetTriggerCom():GetObject())
			end
		end
	end
	
end
return SceneObjTriggerEnterActionData